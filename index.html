function submitQuiz() {
    var answer1 = document.querySelector('input[name="question1"]:checked');
    var answer2 = document.querySelector('input[name="question2"]:checked');
    var email = document.getElementById("email").value;

    if (!answer1 || !answer2 || !email) {
        document.getElementById("feedback").innerText = "Please answer all questions and provide your email.";
        return;
    }

    var result = "";

    if (answer1.value === "A" && answer2.value === "A") {
        result = "You are Type X!";
    } else if (answer1.value === "B" && answer2.value === "B") {
        result = "You are Type Y!";
    } else {
        result = "You are Type Z!";
    }

    document.getElementById("result").innerText = result;
    document.getElementById("feedback").innerText = "Submitting your answers...";

    // Change fetch to GET request with URL parameters
    fetch(`https://script.google.com/macros/s/AKfycbz_ZsWM0meEa4JGHDtpjArNOBu_gZyUo8vWxboYuQeFpT5szd4dMmPSxvV7ZwbvrEo/exec?answer1=${encodeURIComponent(answer1.value)}&answer2=${encodeURIComponent(answer2.value)}&email=${encodeURIComponent(email)}`, {
        method: 'GET'
    })
    .then(response => response.json())
    .then(data => {
        alert(data.message);
        document.getElementById("feedback").innerText = "Email sent successfully!";
    })
    .catch(error => {
        console.error('Error:', error);
        document.getElementById("feedback").innerText = "Failed to send email. Please try again.";
    });
}
